# 啟動檢查清單

## 最新版本資訊

- **版本**：v1.2.1
- **更新日期**：2024-11-25
- **新功能**：總表手足資料展開

## 系統當前狀態

### ✅ 已完成項目

- [x] 後端程式碼已建立
- [x] 前端程式碼已建立
- [x] 後端依賴已安裝 (127 packages)
- [x] 前端依賴已安裝 (224 packages)
- [x] 後端服務已啟動 (http://localhost:3001)
- [x] 前端服務已啟動 (http://localhost:5173)
- [x] 瀏覽器預覽已開啟

## 🚀 系統資訊

### 後端服務
- **狀態**: ✅ 運行中
- **URL**: http://localhost:3001
- **健康檢查**: http://localhost:3001/health
- **上傳 API**: http://localhost:3001/api/upload
- **上傳目錄**: /Users/jo/eventCheckIn_ppc/backend/uploads

### 前端服務
- **狀態**: ✅ 運行中
- **URL**: http://localhost:5173
- **建置工具**: Vite v5.4.21
- **框架**: React 18 + TypeScript

## 📝 下一步操作

### 1. 開啟系統
瀏覽器已自動開啟，或手動訪問：
```
http://localhost:5173
```

### 2. 準備測試資料
請參考 `測試資料說明.md` 建立測試用的 Excel 檔案

### 3. 測試系統
1. 點擊「選擇檔案」上傳 Excel
2. 點擊「上傳並處理」
3. 等待處理完成
4. 點擊「下載整理後的 Excel」

### 4. 驗證結果
開啟下載的 Excel 檔案，檢查：
- ✅ 是否依年級分成多個分頁
- ✅ 每個分頁的項次是否從 1 開始
- ✅ 手足資訊是否正確（依家長姓名判斷）
- ✅ 所有欄位是否完整

## 🛠️ 管理命令

### 停止服務
在終端機按 `Ctrl + C` 停止服務

### 重新啟動後端
```bash
cd /Users/jo/eventCheckIn_ppc/backend
npm run dev
```

### 重新啟動前端
```bash
cd /Users/jo/eventCheckIn_ppc/frontend
npm run dev
```

### 使用啟動腳本
```bash
cd /Users/jo/eventCheckIn_ppc
./start.sh
```

## 📊 系統監控

### 檢查後端狀態
訪問健康檢查端點：
```
http://localhost:3001/health
```

應該看到：
```json
{
  "status": "ok",
  "message": "後端服務運行中"
}
```

### 檢查前端狀態
訪問前端首頁：
```
http://localhost:5173
```

應該看到標題：「📊 活動報名 Excel 整理系統」

## 🐛 問題排除

### 後端無法啟動
```bash
# 檢查埠號是否被佔用
lsof -i :3001

# 如果被佔用，終止該程序
kill -9 <PID>

# 重新啟動
cd backend && npm run dev
```

### 前端無法啟動
```bash
# 檢查埠號是否被佔用
lsof -i :5173

# 如果被佔用，終止該程序
kill -9 <PID>

# 重新啟動
cd frontend && npm run dev
```

### 前端無法連接後端
1. 確認後端已啟動在 http://localhost:3001
2. 檢查瀏覽器控制台是否有 CORS 錯誤
3. 確認 Vite proxy 設定正確

### 上傳失敗
1. 檢查檔案格式（.xlsx 或 .xls）
2. 檢查檔案大小（< 10MB）
3. 檢查 Excel 欄位名稱是否正確
4. 查看後端終端機的錯誤訊息

## 📁 重要檔案位置

### 配置檔案
- 後端配置: `/Users/jo/eventCheckIn_ppc/backend/package.json`
- 前端配置: `/Users/jo/eventCheckIn_ppc/frontend/package.json`
- Vite 配置: `/Users/jo/eventCheckIn_ppc/frontend/vite.config.ts`

### 核心程式碼
- 後端主程式: `/Users/jo/eventCheckIn_ppc/backend/src/server.js`
- Excel 處理: `/Users/jo/eventCheckIn_ppc/backend/src/services/excelService.js`
- 前端主元件: `/Users/jo/eventCheckIn_ppc/frontend/src/App.tsx`
- 上傳元件: `/Users/jo/eventCheckIn_ppc/frontend/src/components/FileUpload.tsx`

### 文件
- 主要說明: `/Users/jo/eventCheckIn_ppc/README.md`
- 快速啟動: `/Users/jo/eventCheckIn_ppc/QUICKSTART.md`
- 系統流程: `/Users/jo/eventCheckIn_ppc/SYSTEM_FLOW.md`
- 測試說明: `/Users/jo/eventCheckIn_ppc/測試資料說明.md`

## 🎯 功能測試清單

### 基本功能
- [ ] 檔案選擇功能正常
- [ ] 檔案類型驗證正常（只接受 .xlsx 和 .xls）
- [ ] 檔案資訊顯示正常（名稱、大小）
- [ ] 上傳進度顯示正常
- [ ] 處理完成訊息顯示正常
- [ ] 下載功能正常

### 資料處理
- [ ] 年級分組正確
- [ ] 項次計算正確（每個年級從 1 開始）
- [ ] 手足判斷正確（依家長姓名）
- [ ] 手足資訊格式正確（逗號分隔）
- [ ] 空值處理正確（年級空值歸類到「未分類」）
- [ ] 所有欄位都正確輸出

### 錯誤處理
- [ ] 上傳錯誤格式檔案會顯示錯誤訊息
- [ ] 上傳過大檔案會顯示錯誤訊息
- [ ] 後端錯誤會正確回傳給前端
- [ ] 網路錯誤會顯示適當訊息

### UI/UX
- [ ] 頁面載入正常
- [ ] 樣式顯示正確
- [ ] 按鈕狀態正確（disabled/enabled）
- [ ] 動畫效果流暢
- [ ] 響應式設計正常（手機、平板、桌面）

## 📞 需要協助？

如果遇到任何問題：

1. **查看文件**
   - 閱讀 `README.md` 了解基本使用
   - 閱讀 `SYSTEM_FLOW.md` 了解詳細流程
   - 閱讀 `測試資料說明.md` 了解如何建立測試資料

2. **檢查終端機輸出**
   - 後端終端機會顯示請求日誌和錯誤訊息
   - 前端終端機會顯示編譯錯誤

3. **檢查瀏覽器控制台**
   - 按 F12 開啟開發者工具
   - 查看 Console 標籤的錯誤訊息
   - 查看 Network 標籤的網路請求

4. **查看程式碼註解**
   - 所有關鍵邏輯都有詳細的中文註解

---

## 🎉 系統已就緒！

所有服務都已啟動並運行中，您現在可以：

1. 在瀏覽器中訪問 http://localhost:5173
2. 建立測試 Excel 檔案（參考 `測試資料說明.md`）
3. 上傳檔案並測試系統功能
4. 下載整理後的結果並驗證

祝您使用愉快！🚀
